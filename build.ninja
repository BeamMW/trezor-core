builddir = build/unix

cc = gcc
py = python

cflags_common = -std=gnu99 -Wall -Werror -Wuninitialized -fdata-sections -ffunction-sections
cflags_debug = -g3
cflags_opt = -Os
cflags_inc = -I. -Ivendor/micropython -Ivendor/micropython/ports/unix -Iembed/unix -Iembed/extmod/modtrezorui -I$builddir $
    -Ivendor/trezor-crypto -Wno-sequence-point -DAES_128 -DAES_192 -DUSE_KECCAK=1 -DUSE_ETHEREUM=1 -DUSE_MONERO=1 -DUSE_CARDANO=1 -DUSE_NEM=1

cflags_def = -DTREZOR_MODEL=T -DTREZOR_EMULATOR -DMP_CONFIGFILE=\"embed/unix/mpconfigport.h\" -DMICROPY_USE_READLINE

cflags = $cflags_opt $cflags_debug $cflags_common $cflags_inc $cflags_def

rule cc
    deps = gcc
    depfile = $out.d
    command = $cc $cflags -c $in -o $out -MMD -MF $out.d

ldflags = -L/usr/local/lib -lSDL2 -lSDL2_image -lm

rule ld
    command = $cc $ldflags $in -o $out

build $builddir/micropython: ld $
    $builddir/vendor/micropython/extmod/modubinascii.o $
    $builddir/vendor/micropython/extmod/moductypes.o $
    $builddir/vendor/micropython/extmod/moduheapq.o $
    $builddir/vendor/micropython/extmod/modutimeq.o $
    $builddir/vendor/micropython/extmod/utime_mphal.o $
    $builddir/vendor/micropython/lib/mp-readline/readline.o $
    $builddir/vendor/micropython/py/argcheck.o $
    $builddir/vendor/micropython/py/asmarm.o $
    $builddir/vendor/micropython/py/asmbase.o $
    $builddir/vendor/micropython/py/asmthumb.o $
    $builddir/vendor/micropython/py/asmx64.o $
    $builddir/vendor/micropython/py/asmx86.o $
    $builddir/vendor/micropython/py/asmxtensa.o $
    $builddir/vendor/micropython/py/bc.o $
    $builddir/vendor/micropython/py/binary.o $
    $builddir/vendor/micropython/py/builtinevex.o $
    $builddir/vendor/micropython/py/builtinhelp.o $
    $builddir/vendor/micropython/py/builtinimport.o $
    $builddir/vendor/micropython/py/compile.o $
    $builddir/vendor/micropython/py/emitbc.o $
    $builddir/vendor/micropython/py/emitcommon.o $
    $builddir/vendor/micropython/py/emitglue.o $
    $builddir/vendor/micropython/py/emitinlinethumb.o $
    $builddir/vendor/micropython/py/emitinlinextensa.o $
    $builddir/vendor/micropython/py/emitnarm.o $
    $builddir/vendor/micropython/py/emitnative.o $
    $builddir/vendor/micropython/py/emitnthumb.o $
    $builddir/vendor/micropython/py/emitnx64.o $
    $builddir/vendor/micropython/py/emitnx86.o $
    $builddir/vendor/micropython/py/emitnxtensa.o $
    $builddir/vendor/micropython/py/formatfloat.o $
    $builddir/vendor/micropython/py/frozenmod.o $
    $builddir/vendor/micropython/py/gc.o $
    $builddir/vendor/micropython/py/lexer.o $
    $builddir/vendor/micropython/py/malloc.o $
    $builddir/vendor/micropython/py/map.o $
    $builddir/vendor/micropython/py/modarray.o $
    $builddir/vendor/micropython/py/modbuiltins.o $
    $builddir/vendor/micropython/py/modcmath.o $
    $builddir/vendor/micropython/py/modcollections.o $
    $builddir/vendor/micropython/py/modgc.o $
    $builddir/vendor/micropython/py/modio.o $
    $builddir/vendor/micropython/py/modmath.o $
    $builddir/vendor/micropython/py/modmicropython.o $
    $builddir/vendor/micropython/py/modstruct.o $
    $builddir/vendor/micropython/py/modsys.o $
    $builddir/vendor/micropython/py/modthread.o $
    $builddir/vendor/micropython/py/moduerrno.o $
    $builddir/vendor/micropython/py/mpprint.o $
    $builddir/vendor/micropython/py/mpstate.o $
    $builddir/vendor/micropython/py/mpz.o $
    $builddir/vendor/micropython/py/nativeglue.o $
    $builddir/vendor/micropython/py/nlr.o $
    $builddir/vendor/micropython/py/nlrsetjmp.o $
    $builddir/vendor/micropython/py/nlrthumb.o $
    $builddir/vendor/micropython/py/nlrx64.o $
    $builddir/vendor/micropython/py/nlrx86.o $
    $builddir/vendor/micropython/py/nlrxtensa.o $
    $builddir/vendor/micropython/py/obj.o $
    $builddir/vendor/micropython/py/objarray.o $
    $builddir/vendor/micropython/py/objattrtuple.o $
    $builddir/vendor/micropython/py/objbool.o $
    $builddir/vendor/micropython/py/objboundmeth.o $
    $builddir/vendor/micropython/py/objcell.o $
    $builddir/vendor/micropython/py/objclosure.o $
    $builddir/vendor/micropython/py/objcomplex.o $
    $builddir/vendor/micropython/py/objdeque.o $
    $builddir/vendor/micropython/py/objdict.o $
    $builddir/vendor/micropython/py/objenumerate.o $
    $builddir/vendor/micropython/py/objexcept.o $
    $builddir/vendor/micropython/py/objfilter.o $
    $builddir/vendor/micropython/py/objfloat.o $
    $builddir/vendor/micropython/py/objfun.o $
    $builddir/vendor/micropython/py/objgenerator.o $
    $builddir/vendor/micropython/py/objgetitemiter.o $
    $builddir/vendor/micropython/py/objint.o $
    $builddir/vendor/micropython/py/objint_longlong.o $
    $builddir/vendor/micropython/py/objint_mpz.o $
    $builddir/vendor/micropython/py/objlist.o $
    $builddir/vendor/micropython/py/objmap.o $
    $builddir/vendor/micropython/py/objmodule.o $
    $builddir/vendor/micropython/py/objnamedtuple.o $
    $builddir/vendor/micropython/py/objnone.o $
    $builddir/vendor/micropython/py/objobject.o $
    $builddir/vendor/micropython/py/objpolyiter.o $
    $builddir/vendor/micropython/py/objproperty.o $
    $builddir/vendor/micropython/py/objrange.o $
    $builddir/vendor/micropython/py/objreversed.o $
    $builddir/vendor/micropython/py/objset.o $
    $builddir/vendor/micropython/py/objsingleton.o $
    $builddir/vendor/micropython/py/objslice.o $
    $builddir/vendor/micropython/py/objstr.o $
    $builddir/vendor/micropython/py/objstringio.o $
    $builddir/vendor/micropython/py/objstrunicode.o $
    $builddir/vendor/micropython/py/objtuple.o $
    $builddir/vendor/micropython/py/objtype.o $
    $builddir/vendor/micropython/py/objzip.o $
    $builddir/vendor/micropython/py/opmethods.o $
    $builddir/vendor/micropython/py/parse.o $
    $builddir/vendor/micropython/py/parsenum.o $
    $builddir/vendor/micropython/py/parsenumbase.o $
    $builddir/vendor/micropython/py/persistentcode.o $
    $builddir/vendor/micropython/py/pystack.o $
    $builddir/vendor/micropython/py/qstr.o $
    $builddir/vendor/micropython/py/reader.o $
    $builddir/vendor/micropython/py/repl.o $
    $builddir/vendor/micropython/py/runtime.o $
    $builddir/vendor/micropython/py/runtime_utils.o $
    $builddir/vendor/micropython/py/scheduler.o $
    $builddir/vendor/micropython/py/scope.o $
    $builddir/vendor/micropython/py/sequence.o $
    $builddir/vendor/micropython/py/showbc.o $
    $builddir/vendor/micropython/py/smallint.o $
    $builddir/vendor/micropython/py/stackctrl.o $
    $builddir/vendor/micropython/py/stream.o $
    $builddir/vendor/micropython/py/unicode.o $
    $builddir/vendor/micropython/py/vm.o $
    $builddir/vendor/micropython/py/vstr.o $
    $builddir/vendor/micropython/py/warning.o $
    $builddir/vendor/micropython/ports/unix/gccollect.o $
    $builddir/vendor/micropython/ports/unix/unix_mphal.o $
    $builddir/vendor/micropython/ports/unix/input.o $
    $builddir/vendor/micropython/ports/unix/alloc.o $
    $builddir/embed/unix/common.o $
    $builddir/embed/unix/profile.o $
    $builddir/embed/unix/flash.o $
    $builddir/embed/unix/main.o $
    $builddir/embed/unix/rng.o $
    $builddir/embed/unix/sdcard.o $
    $builddir/embed/unix/sbu.o $
    $builddir/embed/unix/touch.o $
    $builddir/embed/unix/usb.o $
    $builddir/embed/extmod/modtrezorconfig/modtrezorconfig.o $
    $builddir/embed/extmod/modtrezorconfig/norcow.o $
    $builddir/embed/extmod/modtrezorconfig/storage.o $
    $builddir/embed/extmod/modtrezorcrypto/modtrezorcrypto.o $
    $builddir/embed/extmod/modtrezorcrypto/crc.o $
    $builddir/vendor/trezor-crypto/address.o $
    $builddir/vendor/trezor-crypto/aes/aescrypt.o $
    $builddir/vendor/trezor-crypto/aes/aeskey.o $
    $builddir/vendor/trezor-crypto/aes/aes_modes.o $
    $builddir/vendor/trezor-crypto/aes/aestab.o $
    $builddir/vendor/trezor-crypto/base58.o $
    $builddir/vendor/trezor-crypto/base32.o $
    $builddir/vendor/trezor-crypto/bignum.o $
    $builddir/vendor/trezor-crypto/bip32.o $
    $builddir/vendor/trezor-crypto/bip39.o $
    $builddir/vendor/trezor-crypto/blake256.o $
    $builddir/vendor/trezor-crypto/blake2b.o $
    $builddir/vendor/trezor-crypto/blake2s.o $
    $builddir/vendor/trezor-crypto/curves.o $
    $builddir/vendor/trezor-crypto/ecdsa.o $
    $builddir/vendor/trezor-crypto/chacha20poly1305/chacha20poly1305.o $
    $builddir/vendor/trezor-crypto/chacha20poly1305/chacha_merged.o $
    $builddir/vendor/trezor-crypto/chacha20poly1305/poly1305-donna.o $
    $builddir/vendor/trezor-crypto/chacha20poly1305/rfc7539.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-32bit.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-helpers.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-scalarmult-base.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-32bit-tables.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-basepoint-table.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-impl-base.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-keccak.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-sha3.o $
    $builddir/vendor/trezor-crypto/ed25519-donna/modm-donna-32bit.o $
    $builddir/vendor/trezor-crypto/monero/base58.o $
    $builddir/vendor/trezor-crypto/monero/serialize.o $
    $builddir/vendor/trezor-crypto/monero/xmr.o $
    $builddir/vendor/trezor-crypto/groestl.o $
    $builddir/vendor/trezor-crypto/hasher.o $
    $builddir/vendor/trezor-crypto/hmac.o $
    $builddir/vendor/trezor-crypto/memzero.o $
    $builddir/vendor/trezor-crypto/nist256p1.o $
    $builddir/vendor/trezor-crypto/pbkdf2.o $
    $builddir/vendor/trezor-crypto/rand.o $
    $builddir/vendor/trezor-crypto/ripemd160.o $
    $builddir/vendor/trezor-crypto/secp256k1.o $
    $builddir/vendor/trezor-crypto/sha2.o $
    $builddir/vendor/trezor-crypto/sha3.o $
    $builddir/vendor/trezor-crypto/nem.o $
    $builddir/embed/extmod/modtrezorio/modtrezorio.o $
    $builddir/embed/extmod/modtrezorui/display.o $
    $builddir/embed/extmod/modtrezorui/inflate.o $
    $builddir/embed/extmod/modtrezorui/font_bitmap.o $
    $builddir/embed/extmod/modtrezorui/font_roboto_bold_20.o $
    $builddir/embed/extmod/modtrezorui/font_roboto_regular_20.o $
    $builddir/embed/extmod/modtrezorui/font_robotomono_bold_20.o $
    $builddir/embed/extmod/modtrezorui/font_robotomono_regular_20.o $
    $builddir/embed/extmod/modtrezorui/modtrezorui.o $
    $builddir/embed/extmod/modtrezorui/trezor-qrenc/qr_encode.o $
    $builddir/embed/extmod/modtrezorutils/modtrezorutils.o $
    $builddir/vendor/micropython/ports/unix/modtime.o

qstr = $builddir/genhdr/qstrdefs.generated.h

# py

build $builddir/vendor/micropython/extmod/modubinascii.o: cc vendor/micropython/extmod/modubinascii.c | $qstr
build $builddir/vendor/micropython/extmod/moductypes.o: cc vendor/micropython/extmod/moductypes.c | $qstr
build $builddir/vendor/micropython/extmod/moduheapq.o: cc vendor/micropython/extmod/moduheapq.c | $qstr
build $builddir/vendor/micropython/extmod/modutimeq.o: cc vendor/micropython/extmod/modutimeq.c | $qstr
build $builddir/vendor/micropython/extmod/utime_mphal.o: cc vendor/micropython/extmod/utime_mphal.c | $qstr
build $builddir/vendor/micropython/lib/mp-readline/readline.o: cc vendor/micropython/lib/mp-readline/readline.c | $qstr
build $builddir/vendor/micropython/py/argcheck.o: cc vendor/micropython/py/argcheck.c | $qstr
build $builddir/vendor/micropython/py/asmarm.o: cc vendor/micropython/py/asmarm.c | $qstr
build $builddir/vendor/micropython/py/asmbase.o: cc vendor/micropython/py/asmbase.c | $qstr
build $builddir/vendor/micropython/py/asmthumb.o: cc vendor/micropython/py/asmthumb.c | $qstr
build $builddir/vendor/micropython/py/asmx64.o: cc vendor/micropython/py/asmx64.c | $qstr
build $builddir/vendor/micropython/py/asmx86.o: cc vendor/micropython/py/asmx86.c | $qstr
build $builddir/vendor/micropython/py/asmxtensa.o: cc vendor/micropython/py/asmxtensa.c | $qstr
build $builddir/vendor/micropython/py/bc.o: cc vendor/micropython/py/bc.c | $qstr
build $builddir/vendor/micropython/py/binary.o: cc vendor/micropython/py/binary.c | $qstr
build $builddir/vendor/micropython/py/builtinevex.o: cc vendor/micropython/py/builtinevex.c | $qstr
build $builddir/vendor/micropython/py/builtinhelp.o: cc vendor/micropython/py/builtinhelp.c | $qstr
build $builddir/vendor/micropython/py/builtinimport.o: cc vendor/micropython/py/builtinimport.c | $qstr
build $builddir/vendor/micropython/py/compile.o: cc vendor/micropython/py/compile.c | $qstr
build $builddir/vendor/micropython/py/emitbc.o: cc vendor/micropython/py/emitbc.c | $qstr
build $builddir/vendor/micropython/py/emitcommon.o: cc vendor/micropython/py/emitcommon.c | $qstr
build $builddir/vendor/micropython/py/emitglue.o: cc vendor/micropython/py/emitglue.c | $qstr
build $builddir/vendor/micropython/py/emitinlinethumb.o: cc vendor/micropython/py/emitinlinethumb.c | $qstr
build $builddir/vendor/micropython/py/emitinlinextensa.o: cc vendor/micropython/py/emitinlinextensa.c | $qstr
build $builddir/vendor/micropython/py/emitnarm.o: cc vendor/micropython/py/emitnarm.c | $qstr
build $builddir/vendor/micropython/py/emitnative.o: cc vendor/micropython/py/emitnative.c | $qstr
build $builddir/vendor/micropython/py/emitnthumb.o: cc vendor/micropython/py/emitnthumb.c | $qstr
build $builddir/vendor/micropython/py/emitnx64.o: cc vendor/micropython/py/emitnx64.c | $qstr
build $builddir/vendor/micropython/py/emitnx86.o: cc vendor/micropython/py/emitnx86.c | $qstr
build $builddir/vendor/micropython/py/emitnxtensa.o: cc vendor/micropython/py/emitnxtensa.c | $qstr
build $builddir/vendor/micropython/py/formatfloat.o: cc vendor/micropython/py/formatfloat.c | $qstr
build $builddir/vendor/micropython/py/frozenmod.o: cc vendor/micropython/py/frozenmod.c | $qstr
build $builddir/vendor/micropython/py/gc.o: cc vendor/micropython/py/gc.c | $qstr
build $builddir/vendor/micropython/py/lexer.o: cc vendor/micropython/py/lexer.c | $qstr
build $builddir/vendor/micropython/py/malloc.o: cc vendor/micropython/py/malloc.c | $qstr
build $builddir/vendor/micropython/py/map.o: cc vendor/micropython/py/map.c | $qstr
build $builddir/vendor/micropython/py/modarray.o: cc vendor/micropython/py/modarray.c | $qstr
build $builddir/vendor/micropython/py/modbuiltins.o: cc vendor/micropython/py/modbuiltins.c | $qstr
build $builddir/vendor/micropython/py/modcmath.o: cc vendor/micropython/py/modcmath.c | $qstr
build $builddir/vendor/micropython/py/modcollections.o: cc vendor/micropython/py/modcollections.c | $qstr
build $builddir/vendor/micropython/py/modgc.o: cc vendor/micropython/py/modgc.c | $qstr
build $builddir/vendor/micropython/py/modio.o: cc vendor/micropython/py/modio.c | $qstr
build $builddir/vendor/micropython/py/modmath.o: cc vendor/micropython/py/modmath.c | $qstr
build $builddir/vendor/micropython/py/modmicropython.o: cc vendor/micropython/py/modmicropython.c | $qstr
build $builddir/vendor/micropython/py/modstruct.o: cc vendor/micropython/py/modstruct.c | $qstr
build $builddir/vendor/micropython/py/modsys.o: cc vendor/micropython/py/modsys.c | $qstr
build $builddir/vendor/micropython/py/modthread.o: cc vendor/micropython/py/modthread.c | $qstr
build $builddir/vendor/micropython/py/moduerrno.o: cc vendor/micropython/py/moduerrno.c | $qstr
build $builddir/vendor/micropython/py/mpprint.o: cc vendor/micropython/py/mpprint.c | $qstr
build $builddir/vendor/micropython/py/mpstate.o: cc vendor/micropython/py/mpstate.c | $qstr
build $builddir/vendor/micropython/py/mpz.o: cc vendor/micropython/py/mpz.c | $qstr
build $builddir/vendor/micropython/py/nativeglue.o: cc vendor/micropython/py/nativeglue.c | $qstr
build $builddir/vendor/micropython/py/nlr.o: cc vendor/micropython/py/nlr.c | $qstr
build $builddir/vendor/micropython/py/nlrsetjmp.o: cc vendor/micropython/py/nlrsetjmp.c | $qstr
build $builddir/vendor/micropython/py/nlrthumb.o: cc vendor/micropython/py/nlrthumb.c | $qstr
build $builddir/vendor/micropython/py/nlrx64.o: cc vendor/micropython/py/nlrx64.c | $qstr
build $builddir/vendor/micropython/py/nlrx86.o: cc vendor/micropython/py/nlrx86.c | $qstr
build $builddir/vendor/micropython/py/nlrxtensa.o: cc vendor/micropython/py/nlrxtensa.c | $qstr
build $builddir/vendor/micropython/py/obj.o: cc vendor/micropython/py/obj.c | $qstr
build $builddir/vendor/micropython/py/objarray.o: cc vendor/micropython/py/objarray.c | $qstr
build $builddir/vendor/micropython/py/objattrtuple.o: cc vendor/micropython/py/objattrtuple.c | $qstr
build $builddir/vendor/micropython/py/objbool.o: cc vendor/micropython/py/objbool.c | $qstr
build $builddir/vendor/micropython/py/objboundmeth.o: cc vendor/micropython/py/objboundmeth.c | $qstr
build $builddir/vendor/micropython/py/objcell.o: cc vendor/micropython/py/objcell.c | $qstr
build $builddir/vendor/micropython/py/objclosure.o: cc vendor/micropython/py/objclosure.c | $qstr
build $builddir/vendor/micropython/py/objcomplex.o: cc vendor/micropython/py/objcomplex.c | $qstr
build $builddir/vendor/micropython/py/objdeque.o: cc vendor/micropython/py/objdeque.c | $qstr
build $builddir/vendor/micropython/py/objdict.o: cc vendor/micropython/py/objdict.c | $qstr
build $builddir/vendor/micropython/py/objenumerate.o: cc vendor/micropython/py/objenumerate.c | $qstr
build $builddir/vendor/micropython/py/objexcept.o: cc vendor/micropython/py/objexcept.c | $qstr
build $builddir/vendor/micropython/py/objfilter.o: cc vendor/micropython/py/objfilter.c | $qstr
build $builddir/vendor/micropython/py/objfloat.o: cc vendor/micropython/py/objfloat.c | $qstr
build $builddir/vendor/micropython/py/objfun.o: cc vendor/micropython/py/objfun.c | $qstr
build $builddir/vendor/micropython/py/objgenerator.o: cc vendor/micropython/py/objgenerator.c | $qstr
build $builddir/vendor/micropython/py/objgetitemiter.o: cc vendor/micropython/py/objgetitemiter.c | $qstr
build $builddir/vendor/micropython/py/objint.o: cc vendor/micropython/py/objint.c | $qstr
build $builddir/vendor/micropython/py/objint_longlong.o: cc vendor/micropython/py/objint_longlong.c | $qstr
build $builddir/vendor/micropython/py/objint_mpz.o: cc vendor/micropython/py/objint_mpz.c | $qstr
build $builddir/vendor/micropython/py/objlist.o: cc vendor/micropython/py/objlist.c | $qstr
build $builddir/vendor/micropython/py/objmap.o: cc vendor/micropython/py/objmap.c | $qstr
build $builddir/vendor/micropython/py/objmodule.o: cc vendor/micropython/py/objmodule.c | $qstr
build $builddir/vendor/micropython/py/objnamedtuple.o: cc vendor/micropython/py/objnamedtuple.c | $qstr
build $builddir/vendor/micropython/py/objnone.o: cc vendor/micropython/py/objnone.c | $qstr
build $builddir/vendor/micropython/py/objobject.o: cc vendor/micropython/py/objobject.c | $qstr
build $builddir/vendor/micropython/py/objpolyiter.o: cc vendor/micropython/py/objpolyiter.c | $qstr
build $builddir/vendor/micropython/py/objproperty.o: cc vendor/micropython/py/objproperty.c | $qstr
build $builddir/vendor/micropython/py/objrange.o: cc vendor/micropython/py/objrange.c | $qstr
build $builddir/vendor/micropython/py/objreversed.o: cc vendor/micropython/py/objreversed.c | $qstr
build $builddir/vendor/micropython/py/objset.o: cc vendor/micropython/py/objset.c | $qstr
build $builddir/vendor/micropython/py/objsingleton.o: cc vendor/micropython/py/objsingleton.c | $qstr
build $builddir/vendor/micropython/py/objslice.o: cc vendor/micropython/py/objslice.c | $qstr
build $builddir/vendor/micropython/py/objstr.o: cc vendor/micropython/py/objstr.c | $qstr
build $builddir/vendor/micropython/py/objstringio.o: cc vendor/micropython/py/objstringio.c | $qstr
build $builddir/vendor/micropython/py/objstrunicode.o: cc vendor/micropython/py/objstrunicode.c | $qstr
build $builddir/vendor/micropython/py/objtuple.o: cc vendor/micropython/py/objtuple.c | $qstr
build $builddir/vendor/micropython/py/objtype.o: cc vendor/micropython/py/objtype.c | $qstr
build $builddir/vendor/micropython/py/objzip.o: cc vendor/micropython/py/objzip.c | $qstr
build $builddir/vendor/micropython/py/opmethods.o: cc vendor/micropython/py/opmethods.c | $qstr
build $builddir/vendor/micropython/py/parse.o: cc vendor/micropython/py/parse.c | $qstr
build $builddir/vendor/micropython/py/parsenum.o: cc vendor/micropython/py/parsenum.c | $qstr
build $builddir/vendor/micropython/py/parsenumbase.o: cc vendor/micropython/py/parsenumbase.c | $qstr
build $builddir/vendor/micropython/py/persistentcode.o: cc vendor/micropython/py/persistentcode.c | $qstr
build $builddir/vendor/micropython/py/pystack.o: cc vendor/micropython/py/pystack.c | $qstr
build $builddir/vendor/micropython/py/qstr.o: cc vendor/micropython/py/qstr.c | $qstr
build $builddir/vendor/micropython/py/reader.o: cc vendor/micropython/py/reader.c | $qstr
build $builddir/vendor/micropython/py/repl.o: cc vendor/micropython/py/repl.c | $qstr
build $builddir/vendor/micropython/py/runtime.o: cc vendor/micropython/py/runtime.c | $qstr
build $builddir/vendor/micropython/py/runtime_utils.o: cc vendor/micropython/py/runtime_utils.c | $qstr
build $builddir/vendor/micropython/py/scheduler.o: cc vendor/micropython/py/scheduler.c | $qstr
build $builddir/vendor/micropython/py/scope.o: cc vendor/micropython/py/scope.c | $qstr
build $builddir/vendor/micropython/py/sequence.o: cc vendor/micropython/py/sequence.c | $qstr
build $builddir/vendor/micropython/py/showbc.o: cc vendor/micropython/py/showbc.c | $qstr
build $builddir/vendor/micropython/py/smallint.o: cc vendor/micropython/py/smallint.c | $qstr
build $builddir/vendor/micropython/py/stackctrl.o: cc vendor/micropython/py/stackctrl.c | $qstr
build $builddir/vendor/micropython/py/stream.o: cc vendor/micropython/py/stream.c | $qstr
build $builddir/vendor/micropython/py/unicode.o: cc vendor/micropython/py/unicode.c | $qstr
build $builddir/vendor/micropython/py/vm.o: cc vendor/micropython/py/vm.c | $qstr
build $builddir/vendor/micropython/py/vstr.o: cc vendor/micropython/py/vstr.c | $qstr
build $builddir/vendor/micropython/py/warning.o: cc vendor/micropython/py/warning.c | $qstr

# unix

build $builddir/vendor/micropython/ports/unix/gccollect.o: cc vendor/micropython/ports/unix/gccollect.c | $qstr
build $builddir/vendor/micropython/ports/unix/unix_mphal.o: cc vendor/micropython/ports/unix/unix_mphal.c | $qstr
build $builddir/vendor/micropython/ports/unix/input.o: cc vendor/micropython/ports/unix/input.c | $qstr
build $builddir/vendor/micropython/ports/unix/alloc.o: cc vendor/micropython/ports/unix/alloc.c | $qstr
build $builddir/embed/unix/common.o: cc embed/unix/common.c | $qstr
build $builddir/embed/unix/profile.o: cc embed/unix/profile.c | $qstr
build $builddir/embed/unix/flash.o: cc embed/unix/flash.c | $qstr
build $builddir/embed/unix/main.o: cc embed/unix/main.c | $qstr
build $builddir/embed/unix/rng.o: cc embed/unix/rng.c | $qstr
build $builddir/embed/unix/sdcard.o: cc embed/unix/sdcard.c | $qstr
build $builddir/embed/unix/sbu.o: cc embed/unix/sbu.c | $qstr
build $builddir/embed/unix/touch.o: cc embed/unix/touch.c | $qstr
build $builddir/embed/unix/usb.o: cc embed/unix/usb.c | $qstr

# modtrezorconfig

build $builddir/embed/extmod/modtrezorconfig/modtrezorconfig.o: cc embed/extmod/modtrezorconfig/modtrezorconfig.c | $qstr
build $builddir/embed/extmod/modtrezorconfig/norcow.o: cc embed/extmod/modtrezorconfig/norcow.c | $qstr
build $builddir/embed/extmod/modtrezorconfig/storage.o: cc embed/extmod/modtrezorconfig/storage.c | $qstr

# modtrezorcrypto

rule cc_modtrezorcrypto
    deps = gcc
    depfile = $out.d
    command = $cc $cflags -c $in -o $out -MMD -MF $out.d $
        -Ivendor/trezor-crypto -Wno-sequence-point -DAES_128 -DAES_192 -DUSE_KECCAK=1 -DUSE_ETHEREUM=1 -DUSE_MONERO=1 -DUSE_CARDANO=1 -DUSE_NEM=1

build $builddir/embed/extmod/modtrezorcrypto/modtrezorcrypto.o: cc_modtrezorcrypto embed/extmod/modtrezorcrypto/modtrezorcrypto.c | $qstr
build $builddir/embed/extmod/modtrezorcrypto/crc.o: cc_modtrezorcrypto embed/extmod/modtrezorcrypto/crc.c
build $builddir/vendor/trezor-crypto/address.o: cc_modtrezorcrypto vendor/trezor-crypto/address.c
build $builddir/vendor/trezor-crypto/aes/aescrypt.o: cc_modtrezorcrypto vendor/trezor-crypto/aes/aescrypt.c
build $builddir/vendor/trezor-crypto/aes/aeskey.o: cc_modtrezorcrypto vendor/trezor-crypto/aes/aeskey.c
build $builddir/vendor/trezor-crypto/aes/aes_modes.o: cc_modtrezorcrypto vendor/trezor-crypto/aes/aes_modes.c
build $builddir/vendor/trezor-crypto/aes/aestab.o: cc_modtrezorcrypto vendor/trezor-crypto/aes/aestab.c
build $builddir/vendor/trezor-crypto/base58.o: cc_modtrezorcrypto vendor/trezor-crypto/base58.c
build $builddir/vendor/trezor-crypto/base32.o: cc_modtrezorcrypto vendor/trezor-crypto/base32.c
build $builddir/vendor/trezor-crypto/bignum.o: cc_modtrezorcrypto vendor/trezor-crypto/bignum.c
build $builddir/vendor/trezor-crypto/bip32.o: cc_modtrezorcrypto vendor/trezor-crypto/bip32.c
build $builddir/vendor/trezor-crypto/bip39.o: cc_modtrezorcrypto vendor/trezor-crypto/bip39.c
build $builddir/vendor/trezor-crypto/blake256.o: cc_modtrezorcrypto vendor/trezor-crypto/blake256.c
build $builddir/vendor/trezor-crypto/blake2b.o: cc_modtrezorcrypto vendor/trezor-crypto/blake2b.c
build $builddir/vendor/trezor-crypto/blake2s.o: cc_modtrezorcrypto vendor/trezor-crypto/blake2s.c
build $builddir/vendor/trezor-crypto/curves.o: cc_modtrezorcrypto vendor/trezor-crypto/curves.c
build $builddir/vendor/trezor-crypto/ecdsa.o: cc_modtrezorcrypto vendor/trezor-crypto/ecdsa.c
build $builddir/vendor/trezor-crypto/chacha20poly1305/chacha20poly1305.o: cc_modtrezorcrypto vendor/trezor-crypto/chacha20poly1305/chacha20poly1305.c
build $builddir/vendor/trezor-crypto/chacha20poly1305/chacha_merged.o: cc_modtrezorcrypto vendor/trezor-crypto/chacha20poly1305/chacha_merged.c
build $builddir/vendor/trezor-crypto/chacha20poly1305/poly1305-donna.o: cc_modtrezorcrypto vendor/trezor-crypto/chacha20poly1305/poly1305-donna.c
build $builddir/vendor/trezor-crypto/chacha20poly1305/rfc7539.o: cc_modtrezorcrypto vendor/trezor-crypto/chacha20poly1305/rfc7539.c
build $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-32bit.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/curve25519-donna-32bit.c
build $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-helpers.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/curve25519-donna-helpers.c
build $builddir/vendor/trezor-crypto/ed25519-donna/curve25519-donna-scalarmult-base.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/curve25519-donna-scalarmult-base.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-32bit-tables.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519-donna-32bit-tables.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-basepoint-table.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519-donna-basepoint-table.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-donna-impl-base.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519-donna-impl-base.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-keccak.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519-keccak.c
build $builddir/vendor/trezor-crypto/ed25519-donna/ed25519-sha3.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/ed25519-sha3.c
build $builddir/vendor/trezor-crypto/ed25519-donna/modm-donna-32bit.o: cc_modtrezorcrypto vendor/trezor-crypto/ed25519-donna/modm-donna-32bit.c
build $builddir/vendor/trezor-crypto/monero/base58.o: cc_modtrezorcrypto vendor/trezor-crypto/monero/base58.c
build $builddir/vendor/trezor-crypto/monero/serialize.o: cc_modtrezorcrypto vendor/trezor-crypto/monero/serialize.c
build $builddir/vendor/trezor-crypto/monero/xmr.o: cc_modtrezorcrypto vendor/trezor-crypto/monero/xmr.c
build $builddir/vendor/trezor-crypto/groestl.o: cc_modtrezorcrypto vendor/trezor-crypto/groestl.c
build $builddir/vendor/trezor-crypto/hasher.o: cc_modtrezorcrypto vendor/trezor-crypto/hasher.c
build $builddir/vendor/trezor-crypto/hmac.o: cc_modtrezorcrypto vendor/trezor-crypto/hmac.c
build $builddir/vendor/trezor-crypto/memzero.o: cc_modtrezorcrypto vendor/trezor-crypto/memzero.c
build $builddir/vendor/trezor-crypto/nist256p1.o: cc_modtrezorcrypto vendor/trezor-crypto/nist256p1.c
build $builddir/vendor/trezor-crypto/pbkdf2.o: cc_modtrezorcrypto vendor/trezor-crypto/pbkdf2.c
build $builddir/vendor/trezor-crypto/rand.o: cc_modtrezorcrypto vendor/trezor-crypto/rand.c
build $builddir/vendor/trezor-crypto/ripemd160.o: cc_modtrezorcrypto vendor/trezor-crypto/ripemd160.c
build $builddir/vendor/trezor-crypto/secp256k1.o: cc_modtrezorcrypto vendor/trezor-crypto/secp256k1.c
build $builddir/vendor/trezor-crypto/sha2.o: cc_modtrezorcrypto vendor/trezor-crypto/sha2.c
build $builddir/vendor/trezor-crypto/sha3.o: cc_modtrezorcrypto vendor/trezor-crypto/sha3.c
build $builddir/vendor/trezor-crypto/nem.o: cc_modtrezorcrypto vendor/trezor-crypto/nem.c

# modtrezorio

build $builddir/embed/extmod/modtrezorio/modtrezorio.o: cc embed/extmod/modtrezorio/modtrezorio.c | $qstr

# modtrezorui

rule cc_modtrezorui
    deps = gcc
    depfile = $out.d
    command = $cc $cflags -c $in -o $out -MMD -MF $out.d $
        -DTREZOR_FONT_BOLD_ENABLE -DTREZOR_FONT_NORMAL_ENABLE -DTREZOR_FONT_MONO_ENABLE -DTREZOR_FONT_MONO_BOLD_ENABLE -DQR_MAX_VERSION=0

build $builddir/embed/extmod/modtrezorui/display.o: cc_modtrezorui embed/extmod/modtrezorui/display.c | $qstr
build $builddir/embed/extmod/modtrezorui/inflate.o: cc_modtrezorui embed/extmod/modtrezorui/inflate.c | $qstr
build $builddir/embed/extmod/modtrezorui/font_bitmap.o: cc_modtrezorui embed/extmod/modtrezorui/font_bitmap.c | $qstr
build $builddir/embed/extmod/modtrezorui/font_roboto_bold_20.o: cc_modtrezorui embed/extmod/modtrezorui/font_roboto_bold_20.c | $qstr
build $builddir/embed/extmod/modtrezorui/font_roboto_regular_20.o: cc_modtrezorui embed/extmod/modtrezorui/font_roboto_regular_20.c | $qstr
build $builddir/embed/extmod/modtrezorui/font_robotomono_bold_20.o: cc_modtrezorui embed/extmod/modtrezorui/font_robotomono_bold_20.c | $qstr
build $builddir/embed/extmod/modtrezorui/font_robotomono_regular_20.o: cc_modtrezorui embed/extmod/modtrezorui/font_robotomono_regular_20.c | $qstr
build $builddir/embed/extmod/modtrezorui/modtrezorui.o: cc_modtrezorui embed/extmod/modtrezorui/modtrezorui.c | $qstr
build $builddir/embed/extmod/modtrezorui/trezor-qrenc/qr_encode.o: cc_modtrezorui embed/extmod/modtrezorui/trezor-qrenc/qr_encode.c | $qstr

# modtrezorutils

build $builddir/embed/extmod/modtrezorutils/modtrezorutils.o: cc embed/extmod/modtrezorutils/modtrezorutils.c | $qstr

# modtime

build $builddir/vendor/micropython/ports/unix/modtime.o: cc vendor/micropython/ports/unix/modtime.c | $qstr

# mpversion

rule mpversion
    command = $py vendor/micropython/py/makeversionhdr.py $builddir/genhdr/mpversion.h > /dev/null

build $builddir/genhdr/mpversion.h: mpversion

# qstr

rule qstr_collect
    command = $cc $cflags $in -E -DNO_QSTR | $py site_scons/site_tools/micropython/qstrdefs.py > $out

rule qstr_preprocess
    command = cat $in | sed 's/^Q(.*)/"&"/' | $cc $cflags -E - $ | sed 's/^"\(Q(.*)\)"/\1/' > $out

rule qstr_generate
    command = $py vendor/micropython/py/makeqstrdata.py $in > $out

build $builddir/genhdr/qstrdefs.collected.h: qstr_collect $
    embed/extmod/modtrezorconfig/modtrezorconfig.c $
    embed/extmod/modtrezorcrypto/modtrezorcrypto.c $
    embed/extmod/modtrezorio/modtrezorio.c $
    embed/extmod/modtrezorui/modtrezorui.c $
    embed/extmod/modtrezorutils/modtrezorutils.c $
    vendor/micropython/ports/unix/modtime.c $
    vendor/micropython/extmod/modubinascii.c $
    vendor/micropython/extmod/moductypes.c $
    vendor/micropython/extmod/moduheapq.c $
    vendor/micropython/extmod/modutimeq.c $
    vendor/micropython/extmod/utime_mphal.c $
    vendor/micropython/lib/mp-readline/readline.c $
    vendor/micropython/py/argcheck.c $
    vendor/micropython/py/asmarm.c $
    vendor/micropython/py/asmbase.c $
    vendor/micropython/py/asmthumb.c $
    vendor/micropython/py/asmx64.c $
    vendor/micropython/py/asmx86.c $
    vendor/micropython/py/asmxtensa.c $
    vendor/micropython/py/bc.c $
    vendor/micropython/py/binary.c $
    vendor/micropython/py/builtinevex.c $
    vendor/micropython/py/builtinhelp.c $
    vendor/micropython/py/builtinimport.c $
    vendor/micropython/py/compile.c $
    vendor/micropython/py/emitbc.c $
    vendor/micropython/py/emitcommon.c $
    vendor/micropython/py/emitglue.c $
    vendor/micropython/py/emitinlinethumb.c $
    vendor/micropython/py/emitinlinextensa.c $
    vendor/micropython/py/emitnarm.c $
    vendor/micropython/py/emitnative.c $
    vendor/micropython/py/emitnthumb.c $
    vendor/micropython/py/emitnx64.c $
    vendor/micropython/py/emitnx86.c $
    vendor/micropython/py/emitnxtensa.c $
    vendor/micropython/py/formatfloat.c $
    vendor/micropython/py/frozenmod.c $
    vendor/micropython/py/gc.c $
    vendor/micropython/py/lexer.c $
    vendor/micropython/py/malloc.c $
    vendor/micropython/py/map.c $
    vendor/micropython/py/modarray.c $
    vendor/micropython/py/modbuiltins.c $
    vendor/micropython/py/modcmath.c $
    vendor/micropython/py/modcollections.c $
    vendor/micropython/py/modgc.c $
    vendor/micropython/py/modio.c $
    vendor/micropython/py/modmath.c $
    vendor/micropython/py/modmicropython.c $
    vendor/micropython/py/modstruct.c $
    vendor/micropython/py/modsys.c $
    vendor/micropython/py/modthread.c $
    vendor/micropython/py/moduerrno.c $
    vendor/micropython/py/mpprint.c $
    vendor/micropython/py/mpstate.c $
    vendor/micropython/py/mpz.c $
    vendor/micropython/py/nativeglue.c $
    vendor/micropython/py/nlr.c $
    vendor/micropython/py/nlrsetjmp.c $
    vendor/micropython/py/nlrthumb.c $
    vendor/micropython/py/nlrx64.c $
    vendor/micropython/py/nlrx86.c $
    vendor/micropython/py/nlrxtensa.c $
    vendor/micropython/py/obj.c $
    vendor/micropython/py/objarray.c $
    vendor/micropython/py/objattrtuple.c $
    vendor/micropython/py/objbool.c $
    vendor/micropython/py/objboundmeth.c $
    vendor/micropython/py/objcell.c $
    vendor/micropython/py/objclosure.c $
    vendor/micropython/py/objcomplex.c $
    vendor/micropython/py/objdeque.c $
    vendor/micropython/py/objdict.c $
    vendor/micropython/py/objenumerate.c $
    vendor/micropython/py/objexcept.c $
    vendor/micropython/py/objfilter.c $
    vendor/micropython/py/objfloat.c $
    vendor/micropython/py/objfun.c $
    vendor/micropython/py/objgenerator.c $
    vendor/micropython/py/objgetitemiter.c $
    vendor/micropython/py/objint.c $
    vendor/micropython/py/objint_longlong.c $
    vendor/micropython/py/objint_mpz.c $
    vendor/micropython/py/objlist.c $
    vendor/micropython/py/objmap.c $
    vendor/micropython/py/objmodule.c $
    vendor/micropython/py/objnamedtuple.c $
    vendor/micropython/py/objnone.c $
    vendor/micropython/py/objobject.c $
    vendor/micropython/py/objpolyiter.c $
    vendor/micropython/py/objproperty.c $
    vendor/micropython/py/objrange.c $
    vendor/micropython/py/objreversed.c $
    vendor/micropython/py/objset.c $
    vendor/micropython/py/objsingleton.c $
    vendor/micropython/py/objslice.c $
    vendor/micropython/py/objstr.c $
    vendor/micropython/py/objstringio.c $
    vendor/micropython/py/objstrunicode.c $
    vendor/micropython/py/objtuple.c $
    vendor/micropython/py/objtype.c $
    vendor/micropython/py/objzip.c $
    vendor/micropython/py/opmethods.c $
    vendor/micropython/py/parse.c $
    vendor/micropython/py/parsenum.c $
    vendor/micropython/py/parsenumbase.c $
    vendor/micropython/py/persistentcode.c $
    vendor/micropython/py/pystack.c $
    vendor/micropython/py/qstr.c $
    vendor/micropython/py/reader.c $
    vendor/micropython/py/repl.c $
    vendor/micropython/py/runtime.c $
    vendor/micropython/py/runtime_utils.c $
    vendor/micropython/py/scheduler.c $
    vendor/micropython/py/scope.c $
    vendor/micropython/py/sequence.c $
    vendor/micropython/py/showbc.c $
    vendor/micropython/py/smallint.c $
    vendor/micropython/py/stackctrl.c $
    vendor/micropython/py/stream.c $
    vendor/micropython/py/unicode.c $
    vendor/micropython/py/vm.c $
    vendor/micropython/py/vstr.c $
    vendor/micropython/py/warning.c $
    vendor/micropython/ports/unix/gccollect.c $
    vendor/micropython/ports/unix/unix_mphal.c $
    vendor/micropython/ports/unix/input.c $
    vendor/micropython/ports/unix/alloc.c $
    embed/unix/common.c $
    embed/unix/profile.c $
    embed/unix/flash.c $
    embed/unix/main.c $
    embed/unix/rng.c $
    embed/unix/sdcard.c $
    embed/unix/sbu.c $
    embed/unix/touch.c $
    embed/unix/usb.c $
    | $builddir/genhdr/mpversion.h
build $builddir/genhdr/qstrdefs.preprocessed.h: qstr_preprocess vendor/micropython/py/qstrdefs.h $builddir/genhdr/qstrdefs.collected.h
build $builddir/genhdr/qstrdefs.generated.h: qstr_generate $builddir/genhdr/qstrdefs.preprocessed.h
